%define TOP PAGES_START
%define OFFS(a) (TOP + a - $$)
%include "common.mac"

;[bits 64]

prog1_pml4:
TIMES 512 dq OFFS(prog1_pdpt) | 00000111b

prog1_pdpt:
TIMES 512 dq OFFS(prog1_pdt) | 00000111b

prog1_pdt:
TIMES 512 dq OFFS(prog1_pt) | 00000111b

prog1_pt:
dq 0 | 00000001b
dq 0x1000 | 00000001b
dq 0x2000 | 00000001b
dq 0x3000 | 00000001b
dq 0x4000 | 00000001b
dq 0x5000 | 00000001b
dq 0x6000 | 00000001b
dq 0x7000 | 00000001b
dq 0x8000 | 00000001b
dq 0x9000 | 00000001b
dq 0xa000 | 00000001b
dq 0xb000 | 00000001b
dq PROG1_TEXT | 00000111b
dq PROG1_TEXT + 0x1000 | 00000111b
dq PROG1_TEXT + 0x2000 | 00000111b
dq PROG1_TEXT + 0x3000 | 00000111b
dq 0xb8000 | 00000111b
TIMES 495 dq 0

prog2_pml4:
TIMES 512 dq OFFS(prog2_pdpt) | 00000111b

prog2_pdpt:
TIMES 512 dq OFFS(prog2_pdt) | 00000111b

prog2_pdt:
TIMES 512 dq OFFS(prog2_pt) | 00000111b

prog2_pt:
dq 0 | 00000001b
dq 0x1000 | 00000001b
dq 0x2000 | 00000001b
dq 0x3000 | 00000001b
dq 0x4000 | 00000001b
dq 0x5000 | 00000001b
dq 0x6000 | 00000001b
dq 0x7000 | 00000001b
dq 0x8000 | 00000001b
dq 0x9000 | 00000001b
dq 0xa000 | 00000001b
dq 0xb000 | 00000001b
dq PROG2_TEXT | 00000111b
dq PROG2_TEXT + 0x1000 | 00000111b
dq PROG2_TEXT + 0x2000 | 00000111b
dq PROG2_TEXT + 0x3000 | 00000111b
dq 0xb8000 | 00000111b
TIMES 495 dq 0
